<html>
    <head>
        <title>Upload a new image</title>
        <script src="/static/scripts/svg_detect.js"></script>
        <script src="/static/scripts/img_upload_page.js"></script>
        <link rel="stylesheet" href="/static/styles/styles.css" />   
    </head>
    <body>
        <h3>Upload a new image</h3>

        <form action="/upload_image" method="post" enctype="multipart/form-data">
            <label for="monitor_id">Select a monitor:</label>
            <select name="monitor_id" onchange="change_preview(this.value)">
                <option value="1">Monitor 1</option>
                <option value="2">Monitor 2</option>
                <option value="3">Monitor 3</option>
                <option value="4">Monitor 4</option>
                <option value="5">Monitor 5</option>
            </select>
            <br />

            <label for="monitor_image">Select an image:</label>
            <input id="image_input" type="file" name="monitor_image" accept="image/*" required />
            <br />

            <img id="upload_image_preview" style="display: none;" />
            <br />

            <input type="submit" value="Change monitor image" />
        </form>

        <h3>Monitor previews</h3>
        <span id="monitor_previews">
            <div class="monitor_container">
                <span>
                    <img class="preview_image" src="/file/1" id="img_1" onload="svg_detect(this, 1);" onclick="enlarge(this)" draggable="false" />
                    <a class="edit_image" style="display: none;" href="/edit/1" target="_blank">Edit</a>
                </span>
                <span>
                    <img class="preview_image" src="/file/2" id="img_2" onload="svg_detect(this, 2);" onclick="enlarge(this)" draggable="false" />
                    <a class="edit_image" style="display: none;" href="/edit/2" target="_blank">Edit</a>
                </span>
                <span>
                    <img class="preview_image" src="/file/3" id="img_3" onload="svg_detect(this, 3);" onclick="enlarge(this)" draggable="false" />
                    <a class="edit_image" style="display: none;" href="/edit/3" target="_blank">Edit</a>
                </span>
                <span>
                    <img class="preview_image" src="/file/4" id="img_4" onload="svg_detect(this, 4);" onclick="enlarge(this)" draggable="false" />
                    <a class="edit_image" style="display: none;" href="/edit/4" target="_blank">Edit</a>
                </span>
                <span>
                    <img class="preview_image" src="/file/5" id="img_5" onload="svg_detect(this, 5);" onclick="enlarge(this)" draggable="false" />
                    <a class="edit_image" style="display: none;" href="/edit/5" target="_blank">Edit</a>
                </span>
            </div>
        </span>

        <div style="width: 100%; text-align: center;">
            <i style="font-size: 24px;">Click a monitor preview to enlarge it</i>
            <br />

            <b style="font-size: 16px;">Please make sure that all images have a 16:9 ratio before uploading</b>
        </div>

        <div id="enlarged_image_container" style="display: none;" onclick="this.style.display = 'none'">
            <div id="enlarged_background"></div>
            <img id="enlarged_image" src="/file/1" draggable="false" />
            <br />

            <div style="width: 100%; text-align: center; position: absolute; left: 0; top: 92.5%;">
                <i style="font-size: 2.5vh; color: white;">Click anywhere to close</i>
            </div>
        </div>
    </body>
</html>